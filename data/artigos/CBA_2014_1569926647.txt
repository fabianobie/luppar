Anais do XX Congresso Brasileiro de Automática
Belo Horizonte, MG, 20 a 24 de Setembro de 2014

ANÁLISE DA VIABILIDADE DO PROTOCOLO ZIGBEE NO NOVO CONTEXTO DE REDES
DINÂMICAS DE SENSORES SEM FIO
THIAGO A. OLIVEIRA, RAUL K. MANSANO, ELIANE C. RODRIGUES, EDUARDO P. GODOY
Grupo de Automação e Sistemas Integráveis, UNESP Sorocaba
E-mail thiago3008@gmail.com, rkmansano@yahoo.com.br,
elianerodrigues10@yahoo.com.br, epgodoy@sorocaba.unesp.br
Abstract In recent years, the technology of Wireless Sensor Network (WSN) has attracted increasing attention of academical
and industrial areas due to its great potential in many application fields. Currently, in most studies on WSNs, the network is assumed to cover a large number of static sensors devices dispersed over an area of interest, forming a multi-hop communication
network with a fixed coverage area. As an extension of capabilities of WSNs, the dynamic mobility of components is a new
chain of interesting applications defined as Wireless Dynamic Sensor Network (WDSN). The initial challenge in WDSN is to
investigate whether this dynamic imposed on the network will be supported, once the used network protocol must meet the requirements of devices input and output on the WDSN, the route discovery and data transmission with node mobility, among
other characteristics. This paper presents an overview of WDSNs, their types of mobility and existing applications. Furthermore,
a theoretical review of the ZigBee protocol is presented with high level of detail of network management. From the information
discussed in this paper, a feasibility analysis of using the ZigBee protocol in WDSN applications is performed. A survey of
characteristics and application requirements as well as a discussion of the advantages and disadvantages relating to the adoption
of ZigBee protocol in WDSNs are presented. The systematization of information in this paper aims to generate a reference documentation to guide research and development on the theme.
Keywords Wireless Sensor Dynamic Networks, ZigBee, Network Management.
Resumo  Nos últimos anos, a tecnologia de Rede de Sensores Sem Fio (RSSF) tem atraído crescente atenção dos meios acadêmico e industrial devido a seu enorme potencial em diversos campos de aplicação. Atualmente, em grande parte dos estudos
em RSSFs, a rede é assumida a abranger um grande número de dispositivos sensores estáticos dispersos sobre uma área de interesse, formando uma rede de comunicação em múltiplos saltos com área de cobertura fixa. Como uma extensão de capacidades
de RSSFs, a dinâmica de mobilidade de componentes desta apresenta uma interessante nova cadeia de aplicações definida como
Rede Dinâmica de Sensores Sem Fio (RDSSF). O desafio inicial em RDSSFs é analisar se esta dinâmica imposta  rede será suportada, pois o protocolo de rede usado deve satisfazer os requisitos de entrada_e_saída de dispositivos da RDSSF, de descoberta
de rotas de transmissão_de_dados com a mobilidade dos nós, entre outras características. Este trabalho apresenta uma revisão sobre RDSSFs, seus tipos de mobilidade e aplicações existentes. Adicionalmente, uma revisão teórica do protocolo ZigBee é apresentada, com aprofundamento no nível de gerenciamento_de_redes. A partir das informações discutidas no trabalho é realizada
uma análise de viabilidade de utilização do protocolo ZigBee em aplicações de RDSSF. Um levantamento de características e
requisitos de aplicação, bem como uma discussão das vantagens e desvantagens relativas  adoção do protocolo ZigBee em
RDSSFs são apresentados. Busca-se a partir da sistematização das informações deste trabalho, gerar uma documentação de referência para orientar trabalhos de pesquisa e desenvolvimento sob o tema.
Palavras-chave  .

1

supervisão e controle em uma ampla gama de ambientes.
Em síntese, uma RSSF pode ser descrita como
uma rede de dispositivos, denotados nós, espacialmente distribuídos que, em cooperação, realizam
tarefas de sensoriamento e controle de certo ambiente
e comunicam as informações coletadas através de
links sem fio, permitindo a interação entre pessoas ou
computadores e o ambiente em análise (BURATTI et
al., 2009).
Da perspectiva de origem de sistemas distribuídos, segundo HEIDEMANN (2001), uma RSSF é
definida como determinada classe particular de sistemas distribuídos, com particularidades como a utilização de recursos limitados de energia, grande
quantidade de nós e topologia de rede dinâmica.
Quando comparada s redes tradicionais, RSSFs
apresentam características que as tornam particular.
Entre as principais características de RSSFs, podemse citar (BARONTI et al., 2006)
 Mobilidade dos nós
 Restrições no consumo de potência

Introdução

A origem da pesquisa em Redes de Sensores
Sem Fio (RSSF) remonta ao programa de Redes de
Sensores Distribuídos (DSN  Distributed Sensor
Networks) na Agência de Projetos de Pesquisa Avançada de Defesa (DARPA - Defense Advanced Research Projects Agency), Estados Unidos, por volta da
década de 80 (QINGCHUA, 2010). Naquela época,
mesmo que os primeiros pesquisadores sobre rede de
sensores tinham em mente a visão de uma Rede de
Sensores Sem Fio, a tecnologia necessária ainda não
estava pronta. Da década de 80 para os dias de hoje,
grandes avanços tecnológicos culminaram nos ramos
de sistemas_embarcados, miniaturização de sensores
nas tecnologias de sistemas micro e nano eletromecânicos (PRIME, 2002), redução de tamanho em microprocessadores e tecnologias de rádio transmissão
de baixa potência, permitindo assim o surgimento da
tecnologia da Rede de Sensores Sem Fio (RSSF),
solução emergente de baixo_custo de monitoramento,

418

Anais do XX Congresso Brasileiro de Automática
Belo Horizonte, MG, 20 a 24 de Setembro de 2014



Como uma mescla destas definições, este trabalho toma esta característica definindo-a como Redes
Dinâmicas de Sensores Sem Fio (RDSSF), pressupondo que o nó coordenador (ou o usuário final interessado em adquirir as informações coletadas na rede, também definido em Pereira et al. (2003) como
observador), os nós sensores eou o fenômeno de
análise é(são) móvel(is).
Uma RSSF convencional gera um caminho de
transmissão_de_dados entre as variáveis de interesse
(fenômenos de análise) e a estação base (observador
final  seja o nó coordenador, um PC ou um dispositivo de controle). No caso particular de RDSSFs, este
caminho entre a variável de interesse (fenômeno) e a
estação base pode apresentar multi-hops (múltiplos
saltos) sob condições dinâmicas. Sendo o nó coordenador o dispositivo com o maior nível de processamento e gerenciamento da rede, geralmente este caminho entre a variável de análise e a estação base é
formado quando houver a requisição do nó coordenador, ou seja, os sensores transmitem seus dados
coletados somente quando receber uma requisição do
coordenador. Este requisição também pode ser de
maneira direta (coordenador  nó sensor), ou de maneira indireta (através de nós roteadores).
A figura 1 apresenta um exemplo de RDSSF onde um nó coordenador alocado em um jato faz a varredura (leitura) de nós sensores dispostos em um
campo militar (EKICI et al, 2006).

Capacidade de lidar com falhas dos nós sensores
 Heterogeneidade dos sensores
 Capacidade de resistir a condições ambientais adversas
 Facilidade na utilização e manutenção
O crescente interesse dos meios acadêmico e industrial nesta tecnologia abrange também novas aplicações específicas de RSSF, como a dinâmica destas
redes por meio da mobilidade de seus componentes
(PEREIRA et al., 2003). Definido como Redes Dinâmicas de Sensores Sem Fio (RDSSF), estas redes
com mobilidade dos componentes pode ser analisada
como uma RSSF não tradicional, onde as especificações previamente propostas e desempenho esperado
são levados a julgamento diante da capacidade de
suporte da dinâmica imposta  rede. Diante desse
desafio, alguns autores propuseram novos protocolos
de roteamento de redes_sem_fio com o objetivo de
otimizar eou incrementar novas funcionalidades aos
protocolos de RSSF existentes no mercado (VLAJIC
et al., 2011 PARK et al., 2013 CUOMO et al.,
2013). O objetivo era permitir a aplicação dessas
redes em RDSSFs. A desvantagem dessa abordagem
é a criação de protocolos particulares, com baixo
nível de interoperabilidade e padronização.
Este trabalho analisa a viabilidade de utilização
do protocolo ZigBee, de grande aceitação e padronização mundial, em aplicações de RDSSF. Para isto,
estuda-se principalmente o nível de gerenciamento de
redes definido neste protocolo. Além disso, uma revisão sobre RDSSFs, tipos de mobilidade e aplicações
existentes é apresentada.
2 Redes Dinâmicas de Sensores Sem Fio
Atualmente, em grande parte dos estudos em
RSSFs, a rede é assumida a abranger um grande número de dispositivos sensores dispersos sobre uma
área de interesse, formando uma rede de comunicação em múltiplos saltos (multi-hop). O objetivo primário de uma RSSF é juntar dados relevantes de seu
ambiente em análise e, subsequentemente, transmitir
estes dados a um nó de processamento central, usualmente definido como estação base ou sink. Na literatura de redes, tais sistemas consistem em múltiplos
dispositivos de envio e uma estação superior de recebimento (BURATTI, 2009). Além deste conceito de
modelo de rede descrito, outro conceito que engloba
grande parte dos trabalhos na área de RSSF é o pressuposto que ambos os nós sensores e o sink são estáticos, ou seja, permanecem fixos em suas posições
iniciais de rede.
Por outro lado, abrangendo outra gama recente
de aplicações baseadas na tecnologia de RSSF, está
presente a característica de mobilidade dos componentes destas redes, definido em Pereira et al. (2003)
como Redes de Sensores Dinâmicas, e em Braga et
al. (2013) como Mobile Wireless Sensor Networks
(MWSNs) eou Mobile Ad-hoc Networks (MANETs).

Figura 1 - RDSSF militar (EKICI et al., 2006).

Outra aplicação de RDSSF, desenvolvida no trabalho de Barrientos et al. (2011), apresenta um sistema colaborativo feito de uma Rede Dinâmica de
Sensores Sem Fio através de um veículo aéreo nãotripulável (no caso, um helicóptero quadrotor autônomo - drone), o qual é aplicado ao monitoramento
de geadas em vinhedos. A característica central do
sistema é um nó móvel dinâmico carregado por um
robô_aéreo, que assegura a comunicação entre grupos
dispersos localizados em parcelas fragmentadas (clusters) e uma estação base, superando limitações de
alcance de RSSF com tais características. A figura 2
apresenta uma visão do sistema de monitoramento
proposto em Barrientos et al. (2011).

Figura 2 - RDSSF para monitoramento de geadas (BARRIENTOS
et al., 2011).

419

Anais do XX Congresso Brasileiro de Automática
Belo Horizonte, MG, 20 a 24 de Setembro de 2014

dado por uma RDSSF onde nós sensores são alocados em táxis para transmitir entre si as condições de
tráfego, e sempre que estes táxis se encontrarem próximos a uma estação base, retransmitir um agrupamento de leitura das condições de tráfego realizadas
por este.

Uma terceira aplicação de RDSSF, é encontrada
na tecnologia emergente denominada em Ramteke et
al. (2012) como Rede Ad-hoc Veicular (VANET 
Vehicular Ad-hoc Network), e é um campo de pesquisa, atualmente incluso dentro de RDSSFs, que
começou a ganhar atenção na década de 1980 com
objetivo de fornecer infraestrutura para desenvolvimento de novos sistemas para melhorar a segurança e
conforto de motoristas através da comunicação veículo-a-veículo. A figura 3 ilustra a aplicação de RDSSF
do tipo VANET proposta em Meraihi et al. (2008)

2.3 RDSSF com variável de interesse móvel
Uma terceira situação de mobilidade em RDSSF
encontra-se quando a variável de interesse em análise
é um fenômeno que se movimenta em relação  estação base ou aos nós sensores. Neste caso, têm-se os
nós sensores alocados nos fenômenos móveis de análise se movimentando junto com estes. Esta situação
pode ser exemplificada com uma RDSSF onde os nós
sensores são acoplados em animais, realizando o monitoramento da posição destes, tal como outras variáveis de interesse presentes nestes animais.
2.4 RDSSF híbrida
Por fim, uma situação menos usual e mais complexa de mobilidade de RDSSF, é dada quando todas
as componentes da rede se encontram em mobilidade.
Para esta situação, têm-se o nó coordenador, os nóssensores e o fenômeno de análise, todos em movimento. Este caso, mais complexo de se visualizar e
de implementação, pode ser exemplificado com um
sistema de RDSSF, onde um nó coordenador é alocado em um avião sobrevoando uma determinada área
para realizar o monitoramento de informações de um
tornado. Pequenos sensores são lançados ao tornado
com capacidade de obtenção de dados sobre este e de
comunicação_sem_fio. Tem-se neste exemplo, a variável de interesse móvel, tal como os nós-sensores e o
nó coordenador.

Figura 3 - RDSSF do tipo VANET (MERAIHI et al., 2008).

Em cada uma destas aplicações de RDSSF apresentadas, assim como em outras possíveis aplicações,
classificam-se as RDSSF de acordo com o movimento dos componentes (nó coordenador, nós sensores,
variável de análise), podendo-se definir diversas situações em que cada componente se encontre móvel,
com diferentes modelos de transmissão_de_dados,
protocolos e infraestruturas necessárias (PEREIRA et
al., 2003). As possíveis situações de mobilidade numa RDSSF são apresentadas a seguir.
2.1 RDSSF com nó coordenador móvel
Nesta situação de RDSSF, o nó coordenador, definido como observador final da rede, apresenta característica de mobilidade em relação aos nós sensores e ao fenômeno de interesse em análise. Esta situação ocorre sempre que o nó coordenador apresentar
movimento relativo aos sensores e s variáveis de
interesse, como por exemplo, em uma RDSSF onde
um módulo coletor está posicionado em um avião
que sobrevoa uma área para coletar dados periódicos
em uma rede_de_sensores.

3 Protocolo ZigBee
As particularidades e limitações impostas s
RSSFs tornaram necessário uma série de exigências
que levaram, no início do século XXI, a padronização da comunicação_sem_fio de baixo_custo e baixa
taxa de transmissão. Foram desenvolvidos, nesta
época, dois protocolos_de_comunicação complementares, o IEEE 802.15.4 e o ZigBee, formalizando as
exigências necessárias das especificações de RSSFs.
O protocolo IEEE 802.15.4 define as especificações das camadas física (PHY) e de controle de acesso ao meio (MAC) para as conhecidas LR-WPANs
(Low-Rate Wireless Personal Area Networks).
Com ênfase em aplicações de redes_sem_fio de
baixo_custo de implantação, baixa taxa de transmissão_de_dados e baixa potência de operação, o protocolo ZigBee foi desenvolvido por uma associação de
empresas denominada ZigBee Alliance. O protocolo
ZigBee adiciona duas camadas de alto nível (Camada
de Rede  NWK  e Camada de Aplicação - APL)
para a estrutura básica pré-estabelecida pelo protocolo IEEE 802.15.4.
Em suma, criou-se um padrão proprietário em relação a outras tecnologias de comunicação, porém

2.2 RDSSF com nós-sensores móveis
Outra situação de mobilidade de RDSSF é o caso
em que os sensores estão se movendo em relação aos
demais sensores e ao coordenador. Esta situação
ocorre quando certo fenômeno de interesse é estático
(fixo), mas seu estado de leitura é dinâmico, como
por exemplo, condições do tráfego, as ruas não se
movimentam, entretanto a quantidade de carros que
por elas passam é dinâmica. Nesta situação também,
os nós sensores são alocados em dispositivos_móveis
que percorrem os fenômenos de interesse estáticos,
transmitindo dados entre si, e o agrupamento destes
dados retransmitido a estação base fixa. Um exemplo
para esta situação de mobilidade dos nós sensores, é

420

Anais do XX Congresso Brasileiro de Automática
Belo Horizonte, MG, 20 a 24 de Setembro de 2014

um padrão com interoperabilidade, robusto e prático
com dispositivos das mesmas camadas de aplicação
(LEE et al., 2007). Ademais, o padrão ZigBee pode
ser considerado aberto, com toda documentação e
especificações gratuitamente disponíveis (ZIGBEE,
2013).
Cabe ressaltar que o protocolo IEEE 802.15.4
não deve ser confundido com o protocolo ZigBee.
Com o desenvolvimento independente do ZigBee, é
possível, com o protocolo IEEE 802.15.4, a construção de um sistema de comunicação_sem_fio baseado
em suas duas camadas inferiores (PHY e MAC) através do desenvolvimento de camadas superiores específicas (VLAJIC et al., 2011 PARK et al., 2013
CUOMO et al., 2013). Entretanto, a padronização
destas camadas superiores já realizada pela ZigBee
Alliance proporciona interoperabilidade de equipamentos e aplicações, fato que norteou o desenvolvimento deste trabalho com o estudo da aplicação do
ZigBee em RDSSF.

O nó coordenador terá que descobrir uma rota
para o nó de destino, considerando que esta ainda não
existe. O coordenador irá criar uma entrada de descoberta de rota (route discovery) em sua tabela de
descoberta, e iniciará o processo de descoberta de
rota.
Um frame de comando do tipo pedido de rota
(route request  RREQ) é gerado e transmitido, em
broadcast, para os nós vizinhos. O frame de comando RREQ é de baixa complexidade e suas principais
componentes são a identificação do pedido (RREQ
id), o solicitante inicial do pedido (source), o nó anterior que transmitiu o frame (sender) e o endereço
do nó destino (destination).
Após os nós vizinhos receberem o RREQ, eles
criarão suas próprias entradas de descoberta e retransmitirão, em broadcast, o frame para seus nós
vizinhos. Os frames enviados para os nós anteriores
(caminhos reversos) serão descartados.
A retransmissão do frame RREQ continuará se
propagando através da rede. Cada nó que receber o
novo RREQ criará uma entrada para ele, modificando
apenas o valor do último nó anterior que transmitiu o
frame (sender). O processo se propaga até o nó destino receber o frame RREQ.
Neste ponto, todos os nós roteadores e o nó destino contêm uma entrada de descoberta de rota para a
solicitação de rota. O nó destino cria, então, um frame de comando de resposta  rota (route reply 
RREP) e transmite de volta como um frame unicast.
O destino do próximo salto é então especificado pelo
endereço do sender em sua entrada de descoberta de
rota.
O frame de resposta  rota  RREP  é propagado em transmissão unicast para o endereço sender na
tabela de descoberta até alcançar novamente o nó que
originou a solicitação de rota.
Isto termina o processo de descoberta de rota.
Tem-se neste ponto, uma rota definida para transmissão_de_dados do nó coordenador (ou qualquer outro
nó que faça solicitação de rota) para o nó de destino.
Observa-se que a rota completa não é armazenada em
nenhum dispositivo. Cada dispositivo apenas sabe o
próximo salto no caminho para o destino. A figura 5
ilustra o descobrimento de rota final desejado.

4 Gerenciamento de RDSSF ZigBee
Como apresentado no tópico anterior, o protocolo ZigBee traz um pilha de camadas que proporciona
 RSSF funcionalidades de gerenciamento_de_redes e
roteamento de dados. Em aplicações de RDSSF, devido ao dinamismo na rede, estas funcionalidades do
protocolo ZigBee devem satisfazer a entrada_e_saída
de dispositivos da rede, a descoberta de rota de
transmissão_de_dados com a mobilidade dos nós, entre outras características. Este tópico estuda e aborda
como estas funcionalidades estão definidas dentro
das camadas do protocolo ZigBee.
4.1 Descoberta de rota
O roteamento de dados em redes ZigBee é baseado no algoritmo de roteamento de vetor de distância
sob demanda (Ad Hoc On-Demand Distance Vector
 AODV) (Baronti et al., 2006). Por ser um algoritmo
de considerável complexidade para detalhamento, o
mesmo pode ser explicado de maneira mais intuitiva
através de um exemplo de transmissão de um pacote
de dados entre o coordenador da rede e um nó espacialmente distante deste. Na figura 4, o nó coordenador é representado pelo nó vermelho (0) e o nó de
destino do pacote de dados é representado em azul
pelo número 8, na extremidade direita da imagem.
Cabe destacar que o nó em vermelho representa o
coordenador da rede, os nós em azul são roteadores
(possuem a capacidade de retransmissão_de_dados) e
os nós em cinza são dispositivos finais (não possuem
a capacidade de retransmissão_de_dados).

Figura 5  Descoberta de rota ZigBee.

Cabe aqui ressaltar que, após os procedimentos
de solicitação e resposta de rota, com ou sem a chegada do frame de resposta ao nó que originou a solicitação de rota, as entradas de descoberta de rota em
todos os nós são expiradas após certo tempo. De
Figura 4  Descoberta de rota ZigBee - Definições

421

Anais do XX Congresso Brasileiro de Automática
Belo Horizonte, MG, 20 a 24 de Setembro de 2014

camada de controle de acesso ao meio  MAC -, e
realizarão varreduras na lista fornecida de canais
autorizados. Quando as varreduras terminarem, uma
função de confirmação de varredura retornará as leituras de energia e descrições obtidas da varredura de
rede. A partir deste ponto, a função de formação de
rede precisará decidir em qual canal se juntar. O critério típico é escolher um canal com a mais baixa
leitura de energia (menor quantidade de tráfego).
Uma vez que o canal é selecionado, o coordenador definirá uma identificação de Rede de Área Pessoal (PAN id) e o canal no rádio. O passo final é a
camada de rede chamar o serviço de inicialização da
MAC, para que as confirmações retornem e sejam
transferidas entre as camadas, até que chegue de volta na aplicação do usuário (user app). A figura 6 ilustra o processo de formação de rede ZigBee, como
descrito anteriormente.

acordo com a especificação do protocolo ZigBee,
este tempo é definido em 10 segundos.
O algoritmo de roteamento AODV é composto
também por outros pontos de maior complexidade,
como a redundância de rotas para o destino, custo de
link para determinar a melhor rota, entre outros fundamentos não abordados neste trabalho.
4.2 Funções de Gerenciamento de Rede
Para compreender as principais funções de gerenciamento_de_rede, é realizada uma revisão teórica
da estruturação das camadas ZigBee e os componentes da camada de aplicação.
A camada de aplicação (camada de maior nível
na pilha do protocolo ZigBee), é composta de três
partes Subcamada de Suporte  Aplicação (APS 
Application Support Sublayer) Framework de Aplicação (AF  Application Framework) e os Objetos
de Dispositivos ZigBee (ZDO  ZigBee Device Objects). A subcamada de suporte  aplicação  APS realiza a interface entre a camada de aplicação e a
camada de rede, fornecendo um conjunto comum de
serviços de transporte de dados para todas as extremidades (endpoints). O Framework de Aplicação 
AF - é simplesmente um multiplexador para todos os
endpoints. Todos os endpoints se registram com o
AF, e quando um frame de dados vem para a camada
de aplicação, o AF irá checar seu endpoint de destino
e envia-o para lá.
Os endpoints são os principais meio de acesso
do usuário com o protocolo ZigBee. Cada endpoint
abriga o que é chamado de objeto de aplicação, que é
basicamente um perfil de dispositivo com qualquer
funcionalidade extra que o usuário decida adicionar.
Quando o dispositivo é iniciado, todos os endpoints
irão se registrar com o Framework de Aplicação  AF
 e fornecer descrições de seus perfis de dispositivos,
tal como suas capacidades.
Com esta estrutura das camadas IEEE 802.15.4 e
ZigBee em mente, pode-se adentrar as principais funções de gerenciamento da rede.

Figura 6  Diagrama de formação de rede ZigBee.

4.2.2 Descobrimento de Redes ZigBee
Como o próprio nome sugere, o serviço de descobrimento de redes ZigBee é utilizado para descobrir as redes existentes no atual canal de operação. É
principalmente utilizado quando o dispositivo é inicializado e precisa descobrir se existem redes adequadas para entrar, embora também possa ser utilizado a
qualquer momento através do aplicativo de usuário.
Quando uma descoberta de rede é solicitada pelo
Objeto de Dispositivo ZigBee  ZDO  ou pelo usuário, a função de descobrimento chamará o serviço de
varredura de rede, presente na camada MAC, o qual,
por sua vez, irá transmitir em broadcast uma sinalização de pedido (beacon request). Quando outros
dispositivos recebem o beacon request, eles responderam com um frame de sinalização 802.15.4, o qual
contêm as informações MAC do dispositivo que está
respondendo, tal como um frame genérico de dados
com vastas informações de rede (beacon payload).
Dentro deste frame, o dispositivo de resposta incluirá
as informações de rede ZigBee, tal como a identificação do protocolo e versão, quantidade de roteadores
e end-devices permissíveis para agrupar a rede, o
perfil de dispositivo que este está sendo utilizado

4.2.1 Formação da Rede ZigBee
Quando uma aplicação de usuário (user app),
através de um dispositivo, decide formar uma rede ao
invés de se juntar a uma rede existente, este instruirá
ao Objeto de Dispositivo ZigBee  ZDO  a chamar a
função de formação de rede. Apenas um dispositivo
roteador com capacidades de coordenador pode formar uma rede e este é indicado nas informações base
da camada de aplicação.
Quando a função de formação de rede é chamada, uma lista de canais autorizados deve ser fornecida
para que se possa limitar a um subconjunto dos canais disponíveis totais (para os dispositivos ZigBee
que operam na frequência de 2,4 GHz, tem-se disponíveis no total 16 canais).
A função de formação de rede irá então chamar
os serviços de varredura de energia (energy scan) e
varredura de rede (active scan), ambos os serviços da

422

Anais do XX Congresso Brasileiro de Automática
Belo Horizonte, MG, 20 a 24 de Setembro de 2014

rede, a identificação de Rede de Área Pessoal (PAN
ID), e também atualizar as tabelas de vizinhos para
especificar seu pai. Uma vez que o trabalho administrativo é concluído, a confirmação de ingresso a rede
é enviada até o ZDO onde este pode informar a aplicação sobre o status de ingresso. Se o status de ingresso não obteve sucesso, então a aplicação deve
escolher outro potencial nó pai da tabela de vizinhos
e tentar novamente o procedimento de ingresso até
este eventualmente se ingressar na rede ou se esgotarem os potenciais nós pais.
Uma das últimas ações que ocorre após um ingresso bem sucedido é que o dispositivo transmitirá
um anúncio informando a todos na rede que este se
ingressou na rede, tão bem como seus endereços de
16 e 64-bits. Isto é importante pois, se o dispositivo
estava previamente ingresso na rede, os outros dispositivos serão capazes de descobri-lo através do seu
endereço de 64-bits (endereço fixo) e poder limpar
todas as referências ao antigo endereço de rede.
Ademais, as informações de endereço serão adicionadas ao mapa de endereço de todos dispositivos que
pode ser rastreada por qualquer nó da rede. A figura
8 ilustra o diagrama de ingresso a rede ZigBee visto
pelo lado do nó filho.
O lado do nó pai no processo de associação é ligeiramente mais fácil. Quando um pedido de associação chega ao potencial pai, este envia uma indicação
a camada de rede que um dispositivo está tentando
ingressar a rede. O potencial pai procurará então em
sua tabela de vizinhos para verificar se o endereço de
64-bits do solicitante já existe. Se existir, então significa que o dispositivo previamente já ingressara na
rede e o nó pai simplesmente emitirá o mesmo endereço de rede para este. Caso não exista nenhum registro do dispositivo na tabela de vizinhos, e o pai esteja
em estado de permissão de ingresso de dispositivos,
então ele simplesmente adicionará o dispositivo  sua
tabela de vizinhos especificando que é um dispositivo
filho e gerará um novo endereço de rede para ele.
Isto tudo é empacotado e enviado de volta ao nó solicitante de ingresso como uma resposta de associação.
A figura 9 ilustra o diagrama de ingresso a rede
ZigBee visto pelo lado do nó pai.

(coordenador, roteador ou end-device), e outras informações adicionais.
Quando os beacons do pedido de varredura de
rede são recebidos, o dispositivo adicionará ambas as
informações das camadas MAC e NWK para sua lista
de descrição de varredura e tabela de nós vizinhos.
Após todas as informações dos beacons serem coletados, uma confirmação de descobrimento de rede
será enviada para o ZDO com a lista contendo todas
as descrições da varredura de rede. O ZDO ou o user
app teriam então que decidir em qual rede se agrupar
baseado em certo critério de entrada. É neste critério
que o usuário pode especificar se ele apenas quer que
seus dispositivos adentrem em determinadas rede ou
mesmo se há um dispositivo específico que eles desejariam agrupar. A figura 7 apresenta um diagrama
esquemático da sequência de descobrimento de redes
ZigBee.

Figura 7 - Diagrama da sequência de descobrimento ZigBee.

4.2.3 Ingresso a Rede (Network Join)
Ingressar um dispositivo a uma rede, ou permitir
a ingressão de um dispositivo a rede, é provavelmente um dos processos mais complexos no protocolo
ZigBee. Existem na verdade, dois lados do processo
de ingressão na rede o lado do filho que envia uma
solicitação e o lado do pai que processa a solicitação e envia a resposta.
A primeira parte do processo de ingressão para o
nó filho é realizar a descoberta de rede (network discovery). Esta é usualmente realizada quando o dispositivo é inicializado e não está associado em nenhuma
rede. Uma vez que a descoberta de rede é completa e
o potencial nó pai esteja de acordo com os critérios
de ingressão, então é hora do processo de ingressão a
rede iniciar-se.
Quando o potencial nó pai tiver sido escolhido,
um pedido de solicitação de ingressão a rede
(network join request) é chamado pelo ZDO. O join
request chamará o serviço de associação, serviço
presente na camada MAC, e emitirá um pedido de
associação para o potencial nó pai. Se os critérios de
permissão de ingresso do nó pai atenderem a solicitação de ingresso do nó filho, uma confirmação de associação é enviada de volta ao nó filho.
Quando esta resposta é recebida, ela passará pela
camada de rede via a resposta de associação da camada MAC. Se o ingresso for bem sucedido, o dispositivo atualizará suas tabelas de informações das camadas NWK e MAC para incluir o novo endereço de

Figura 8 Diagrama de ingresso a rede ZigBee visto pelo nó filho.

423

Anais do XX Congresso Brasileiro de Automática
Belo Horizonte, MG, 20 a 24 de Setembro de 2014

nesta aplicação, certa desvantagem do protocolo
ZigBee, uma vez que o processo de ingresso na rede
inicia-se a partir de uma solicitação de um nó filho
para um nó pai. Ou seja, neste caso, os nós roteadores eou sensores que permanecem estáticos na aplicação, devem constantemente procurar obter uma
associação com o nó coordenador, o que traz uma
funcionalidade pouco lógica e de consumo de potência desprezível, uma vez que o nós sensores poderiam permanecer em modo sleep enquanto estivessem
foram do range de comunicação com o nó coordenador.
Por fim, uma última condição crítica encontrada
para análise, é vista em aplicações onde através do
trajeto do nó móvel, este encontrar uma quantidade
de nós superior a sua capacidade de associação. Como fora estudado no processo de descobrimento de
redes ZigBee, dentro do frame beacon payload, uma
das informações que este carrega é a quantidade de
roteadores e end-devices permissíveis para agrupar a
rede. Este parâmetro pode ser visto no protocolo
ZigBee como o número de filhos restantes (number
of remain children  NC) para associação. Neste caso, a especificação ZigBee (ZIGBEE, 2013) apresenta valores limites de associação para nó coordenador
em 10 filhos, e para roteadores em 12 filhos. O número limite de nós em uma rede ZigBee é bem vasto
(até 65.000 dispositivos). Entretanto, em aplicações
de RDSSF, deve-se levar em consideração a disposição de nós roteadores para não esgotar o número de
dispositivos agregados no nó móvel, e assim evitar
perdas de informações dos nós sensores na rede.

Figura 9 - Diagrama de ingresso a rede ZigBee visto pelo nó pai.

5 Análise da viabilidade de aplicação do protocolo ZigBee em RDSSF
Para realizar uma análise de viabilidade de aplicação do protocolo ZigBee em RDSSF, levaram-se
em consideração os casos críticos impostos pelos
dinamismo da RDSSF em função dos principais parâmetros de transmissão_de_dados e gerenciamento de
rede do protocolo.
De maneira geral, o protocolo ZigBee apresenta
em suas camadas lógicas as principais funcionalidades requeridas para uma aplicação de RDSSF. Tais
funcionalidades, descritas na seção anterior, como
mecanismos de descoberta de rotas, formação e descobrimento de rede e gerenciamento de ingresso (entrada_e_saída)  rede encontram-se implementados no
protocolo e disponíveis para qualquer aplicação, como por exemplo, uma rede ZigBee com mobilidade
de dispositivos. Essa adequação do protocolo ZigBee
frente aos requisitos gerais de RDSSFs permite afirmar que existe viabilidade para o desenvolvimento de
RDSSFs ZigBee.
É claro que aplicações específicas de RDSSFs
ZigBee demandariam um estudo mais detalhado do
cumprimento de requisitos dessa aplicação diante do
desempenho do protocolo ZigBee. No entanto isso
teria que ser feito caso a caso. Por outro lado, a análise de alguns parâmetros do protocolo em casos críticos de RDSSF trazem importantes considerações a
serem observadas.
Considerando uma aplicação de RDSSF com nó
coordenador móvel, uma das condições críticas de
transmissão_de_dados entre os nós, é a constante mudança de nós roteadores e sensores vista pelo coordenador. Nesta condição imposta pelo dinamismo dos
nós que rodeiam o coordenador, fora estudado anteriormente que o algoritmo de roteamento presente no
protocolo ZigBee realiza uma temporização das entradas de descoberta de rota em todos os nós da rede,
de acordo um tempo pré-definido no protocolo, 10
segundos (ZIGBEE, 2013). Esta temporização das
entradas de descoberta de rota nos nós permite o dinamismo de entrada_e_saída de nós na rede. Se um nó
sair da rede, ele não participará no novo processo de
descoberta de rota, e um diferente trajeto será automaticamente descoberto.
Novamente em uma aplicação de RDSSF com
coordenador móvel, considera-se outra condição crítica a rotatividade de ingressões de nós roteadores e
sensores na rede,  medida que estes entrem em uma
área de cobertura acessível de comunicação com o nó
coordenador. De acordo com o estudado, é verificado

6 Conclusões
No desenvolvimento deste trabalho, verifica-se a
grande gama de novas aplicações que as Redes Dinâmicas de Sensores Sem Fio trazem s já tradicionais RSSFs. Extensão da área de cobertura de comunicação, obtenção de dados em locais de difícil acesso, acréscimo de inteligência em sistemas móveis,
entre outros, são apenas algumas das diversas vantagens impostas pela RDSSF.
A utilização de um protocolo de rede_sem_fio
consolidado no mercado, com baixo consumo e baixo
custo, certamente traz grandes vantagens no desenvolvimento de aplicações de RDSSF. O protocolo
ZigBee, atualmente um dos padrões de comunicação
sem fio para RSSF mais utilizados mundialmente,
certamente solucionaria a questão de interoperabilidade nesta nova classe de RDSSF, fugindo ao desenvolvimento de novos protocolos particulares e proprietários de redes_sem_fio.
A viabilidade de uso do ZigBee em RDSSF foi
realizada através do estudo detalhado do protocolo
diante dos requisitos impostos por essa novo tipo de
aplicação de rede_de_sensores sem fio. Das condições
críticas analisadas, o protocolo ZigBee apresenta certas limitações, como a ingressão de rede iniciada pelos nós filhos e baixo número de filhos agregados no
nó coordenador e nós roteadores. Entretanto, com a

424

Anais do XX Congresso Brasileiro de Automática
Belo Horizonte, MG, 20 a 24 de Setembro de 2014

redescoberta de rota para transmissão_de_dados de
maneira automática, e com a capacidade de expansão
da rede através de nós roteadores, o protocolo ZigBee
torna-se solução viável e promissora para aplicação
em RDSSF.
O estudo aprofundado de aplicações específicas
de RDSSFs demandaria a análise de outros parâmetros inerentes a cada aplicação, como a elevação da
dinâmica da rede, intermitência de conectividade,
tolerância a atrasos, entre outros. Para estas aplicações específicas de RDSSFs, outros protocolos de
redes_sem_fio poderiam ser aplicados e um estudo
para buscar o melhor desempenho ou o protocolo de
rede mais adequado para a aplicação em desenvolvimento poderia ser realizado.

IEEE 802.15.4. (2006). Wireless Medium Access
Control (MAC) and Physical Layer (PHY)
Specifications for Low-Rate Wireless Personal
Area Network (WPANs), IEEE Computer
Society, Revision of IEEE Std 802.15.4-2003.
Lee, J.S. Su, Y.W. and Shen, C.C. (2007).A
Comparative Study of Wireless Protocols
Bluetooth, UWB, ZigBee, and Wi-Fi.
In
Proceedings of the 33rd Annual Conference Of
The IEEE Industrial Electronics Society.
Meraihi R., Senouci S., Meddour D. and Jerbi M.
(2008). Wireless Ad Hoc and Sensor Networks,
Vehicle to vehicle communications applications
and perspectives, Ch 12, ISTE Ltd (Herms
Science Publications  Lavoisier Company), pp.
285-305.
Park, S. Choi, M. Kang, B. and Park, S. (2013).
Design and Implementation of Smart Energy
Management System for Reducing Power
Consumption
Using
ZigBee
Wireless
Communication Module. Procedia Computer
Science, Vol. 19, pp. 662668, 2013.
Pereira, M. R. Amorim, C. L. and Castro, M. C. S.
(2003). Tutorial sobre Redes de Sensores,
Cadernos do IME. Série Informática, Rio de
Janeiro, Vol. 14, pp. 21-36.
Prime Faraday Partnership, An Introduction to
MEMS (Micro-electromechanical Systems),
Wolfson
School
of
Mechanical
and
Manufacturing Engineering, Loughborough
University, Loughborough, UK, 2002.
Qinghua W. and Ilangko B. (2010) Wireless Sensor
Networks - An Introduction. Wireless Sensor
Networks Application-Centric Design, Yen
Kheng Tan (Ed.), InTech.
Ramos, J.S.B. (2012). Instrumentação eletrônica sem
fio transmitindo dados com módulos XBee
ZigBee e PIC16F877A, Editora Érica São
Paulo, 1 Edição, 2012.
Ramteke, M. A. and Krishna, R. K. (2012). Realistic
Simulation for Vehicular Ad-hoc Network Using
ZigBee Technology. International Journal of
Engineering Research  Technology, Vol. 1,
No. 10, pp. 1-5.
Vlajic, N. Stevanovic, D. and Spanogiannopoulos,
G. (2011). Strategies for improving performance
of IEEE 802.15.4ZigBee WSNs with pathconstrained
mobile
sink(s).
Computer
Communications, Vol. 34, No. 6, pp. 743757.
Zigbee. (2013). ZigBee Alliance Members, ZigBee
Alliance.
Disponível
em
<httpwww.zigbee.orgAboutOurMembers.asp
x>. Acesso em Setembro, 2013.
ZigBee Alliance Specifications, ZigBee Alliance.
Disponível
em
<httpwww.zigbee.orgSpecifications.aspx>.
Acesso em Setembro, 2013.
ZigBee Alliance Standards, ZigBee Alliance.
Disponível
em
<httpwww.zigbee.orgStandardsOverview.asp
x>. Acesso em Setembro, 2013.

Agradecimentos
Os autores agradecem ao apoio para desenvolvimento deste trabalho 201123217-0, Fundação de
Amparo  Pesquisa do Estado de São Paulo
(FAPESP).
Referências Bibliográficas
Baronti, P. Pillai, P. Chook, V.W.C. Chessa, S.
Gotta, A. and Hu, Y.F. (2007). Wireless Sensor
Networks A survey on the state of the art and
the 802.15.4 and ZigBee standards, Computer
Communications, Vol. 30, No.7, pp. 1655-1695.
Barrientos, A. Valente, J. Sanz, D. Del Cerro, J.
Ribeiro, A. and Rossi, C. (2011). An Air-Ground
Wireless Sensor Network for Crop Monitoring.
Sensors, Vol. 11, No. 6, pp. 6088-6108.
Braga, R. B., Chaves, I. A., Oliveira, C. T., Andrade,
R. M. C., Souza J. N., Martin, H. and Schulze,
B. (2013). A reactive trust-based mechanism to
detect and punish malicious nodes in ad hoc grid
environments. Journal of Network and Computer
Applications, Vol. 36, No. 1, pp. 274283.
Buratti C., Conti A., Dardari D. and Verdone, R.
(2009). An Overview on Wireless Sensor
Networks Technology and Evolution. Sensors,
Vol. 9, No. 9, pp. 6869-6896.
Cuomo, F. Abbagnale, A. and Cipollone, E. (2013).
Cross-layer network formation for energyefficient IEEE 802.15.4ZigBee Wireless Sensor
Networks. Ad Hoc Networks, Vol. 11, No. 2, pp.
672686.
Ekici, E. Gu, Y. and Bozdag, D. (2006). MobilityBased Communication in Wireless Sensor
Networks. IEEE Communications Magazine,
Vol. 44, No. 7, pp. 56-62.
Heidemann, J. Silva, F. Intanagonwiwat, C.
Govindan, R. Estrin D. and Ganesan, D. (2001).
Building efficient wireless sensor networks with
low-level naming. In Proceedings of the
Eighteenth ACM Symposium on Operating
Systems Principles, Banff, Alberta, Canada,
ACM Press, pp 146-159.
425
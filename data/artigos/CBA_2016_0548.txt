XXI Congresso Brasileiro de Automática - CBA2016
UFES, Vitória - ES, 3 a 7 de outubro

IMPLEMENTACAO DE ESTRATEGIAS DE CONTROLE E PLANEJAMENTO DE
TRAJETORIA EM ROBOS MOVEIS TERRESTRES BASEADAS EM CAMPOS
VETORIAIS ARTIFICIAIS
Lvia Dalfior Sossai, Tales Argolo Jesus


Departamento de Computacao - DECOM Centro Federal de Educacao Tecnologica de Minas Gerais
Avenida Amazonas, n.7675, CEP 30510-000 Belo Horizonte - Minas Gerais, Brasil
Emails liviadalfior@gmail.com , talesargolo@decom.cefetmg.br
Abstract This work consists of the implementation of a navigation system using some of the main trajectory
planning strategies based on artificial potential fields on LEGO R Mindstorms NXT platform. The planning
strategies covered by this work are Potential Fields, Navigation Functions and Wavefront Planner. In order to
implement these strategies on a differential wheeled robot, two cascaded closed-loop controllers were necessary.
The first, external loop is responsible for correcting the steering error, whose reference signals are generated by
the planning strategy. The second, inner and faster loop controls the wheels velocity. The reference values
originate from the first control loop. The robots localization was estimated via odometry. The strategies were
then compared using a set of metrics. They were utilized to evaluate the navigation systems behavior and
the trajectory performed by each of the planning strategies. Besides, numerical issues involving the Navigation
Functions lead to limitations when implementing such trajectory planning technique.
Keywords

mobile robots, navigation functions, control, trajectory planning, differential drive

Resumo Neste trabalho sao implementadas algumas das principais tecnicas de planejamento_de_trajetoria
baseadas em campos vetoriais artificiais na plataforma LEGO R Mindstorms NXT. Sao elas Campos Potenciais,
Funcoes de Navegacao e Wavefront Planner. O robo utilizado e constitudo de duas rodas com tracao diferencial
e o sistema_de_controle consiste de duas malhas_de_controle em cascata a primeira para controle_de_velocidade
das rodas e, a segunda, para o controle de orientacao do robo. O sinal de referencia e definido pela estrategia de
navegacao, cujo calculo e realizado utilizando-se a posicao do robo, que e estimada via odometria. As estrategias
foram comparadas segundo um conjunto de metricas especficas e em diferentes cenarios, que permitiram avaliar
o comportamento do robo ao realizar a trajetoria planejada por cada uma das tecnicas. Alem disso, foram
evidenciados problemas relacionados com precisao numerica, ao se implementar as Funcoes de Navegacao na
plataforma experimental.
Palavras-chave



Introducao

A locomocao autonoma de robos terrestres e uma
caracterstica desejada principalmente quando se
trata de ambientes que apresentam riscos a seres
humanos. Navegar com relativa autonomia, neste
contexto, significa partir de um ponto de origem e
chegar a um destino sem colisoes com obstaculos
e considerando irregularidades presentes no ambiente. Alem disso, entre a origem e o destino podem existir inumeras possibilidades de percurso.
O presente trabalho apresenta um estudo
comparativo entre tres tecnicas de planejamento
de trajetoria do ponto de vista da implementacao em um robo nao-holonomico de tracao diferencial na plataforma comercial LEGO Mindstorms R
NXT. Comparacoes entre tecnicas de planejamento_de_trajetoria sao realizadas em (Gomez
et al., 2013), em que Campos Potenciais sao comparados com o Diagrama de Voronoi. Neste trabalho tem-se o objetivo de explorar a implementacao e controle de algumas das estrategias classicas
de planejamento_de_trajetoria, comparando-as em
relacao a um conjunto de metricas que envolve
a complexidade do cenario, esforco_de_controle,
tempo e espaco percorrido para realizar a trajetoria ate o alvo. A questao do controle sera um
metrica fundamental, uma vez que as estrategias

ISSN 2525-8311

focam em guiar o robo ate o alvo, mas podem acabar por deixar a qualidade do rastreamento em
plano secundario (Park and Kuipers, 2011).
A primeira tecnica a ser estudada sao os Campos Potenciais (CPs) inicialmente descritas por
(Khatib, 1986). Apesar de simples e largamente
utilizadas, a tecnica apresenta limitacoes que sao
tratadas experimentalmente por (Koren and Borenstein, 1991). Alem do conhecido mnimo local,
responsavel pelo comportamento cclico, o estudo
evidencia questoes como as dificuldades de o robo
passar por entre obstaculos proximos, bem como
oscilacoes causadas nessas situacoes. No trabalho de (Urakubo, 2015), os CPs sao estudados por
meio da implementacao em um robo_diferencial.
Existem, ainda, trabalhos que implementam os
CPs em uma plataforma experimental por meio
do uso de visao_computacional para localizacao
do robo (Poomarin et al., 2016).
A segunda tecnica de planejamento a ser explorada neste trabalho sao as Funcoes de Navegacao (FN). Elas constituem uma extensao dos
campos_potenciais de forma a contornar a questao dos mnimos locais. Alem disso, o uso de
Funcoes de Navegacao constitui uma maneira elegante de se projetar controladores (Colledanchise
et al., 2013).
A ultima estrategia a ser explorada e o Wave-

1935

XXI Congresso Brasileiro de Automática - CBA2016
UFES, Vitória - ES, 3 a 7 de outubro

front Planner que consiste em uma heurstica responsavel por discretizar o espaco de trabalho em
um grid e propagar direcoes em cada celula. Em
(Alves et al., 2013) o WF, associado a tecnicas de
localizacao baseadas em filtros, prove um sistema
em tempo_real para que a plataforma experimental possa se deslocar em um ambiente como um
escritorio. Em (Arantes et al., 2010) a tecnica
WF e associada a teoria de Automatos Celulares
e sensores para a navegacao de um robo com tracao diferencial, bem como o mapeamento de novas
areas.
2

Explorando a nao-holonomia em um
robo_diferencial

Robos nao-holonomicos possuem como caracterstica principal o fato de possurem restricoes que os
impedem de alterar sua direcao de deslocamento
instantaneamente. Isso porque o espaco de velocidades em uma configuracao qualquer tem dimensao menor do que o numero de graus de liberdade
do robo. O espaco de configuracao do robo e dado
pelas variaveis x e y que representam as coordenadas em que o robo se encontra em um determinado
instante de tempo t e  representa a orientacao do
robo. As variaveis d e e representam a velocidade_angular das rodas direita e esquerda, respectivamente. O modelo em espaco_de_estados do
robo_diferencial e dado por1 

 


x
cos  0 
 y    sen  0  v

0
1


sendo v a velocidade linear do robo e , a velocidade_angular. Elas dependem dos parametros L
e r que representam a distancia entre as rodas e o
raio das rodas e sao calculadas da seguinte forma


  r
v
2 (e + d )

r

L (d  e )
3

Sobre a plataforma LEGO R

A plataforma LEGO Mindstorms R consiste nas
pecas para montagem do robo (rodas, eixos, etc.)
e em um computador embarcado, onde e includa
a programacao. A programacao dos blocos foi
realizada na linguagem NXC - Not Exaclty C e
os codigos foram compilados com o compilador
NBC. Assim como em (Benitez et al., 2008), a plataforma experimental LEGO R foi escolhida por
1 Neste trabalho adotou-se o uso das estrategias de navegacao no espaco de trabalho, e nao como convencionalmente se faz no espaco de configuracoes. E uma escolha
razoavel, ja que o espaco de trabalho, no caso de um robo
diferencial nao-holonomico, e um subconjunto do espaco
de configuracoes.

ISSN 2525-8311

ser flexvel e permitir diversas montagens, alem
da sua facil disponibilidade em instituicoes de ensino. Devido ao uso de funcoes matematicas mais
complexas, como a tangente_hiperbolica e o arco
tangente (para determinacao da direcao do gradiente), foi necessario o uso do Enhanced NBCNXC
firmware2 .
4
4.1

Arquitetura Proposta

Malhas de controle

As tecnicas de planejamento_de_trajetoria fornecem valores de referencia para a velocidade_angular () e linear (v). Em cada ponto do espaco
de trabalho do robo podem-se observar valores diferentes para v e . Esses valores de referencia
sao transformados em valores de referencia para a
velocidade_angular das rodas. Tal mapeamento e
dado pelas equacoes abaixo
d 

2v+L
2r

e

e 

2vL
2r .

(2)

Corrigir a orientacao do robo, ou seja, o angulo , significa converter esse erro em uma velocidade_angular que alinhe o robo a orientacao de referencia ref . Na Figura 1 sao exibidas as malhas
de controle necessarias para a a implementacao do
sistema_de_navegacao do robo. Nela sao destacadas duas malhas em cascata a malha_de_controle
de orientacao, responsavel pela geracao de valores
de referencia para a segunda malha, que e responsavel pelo controle das velocidades das rodas.
Isso e importante para garantir que fatores como
o peso do robo, carga da bateria, mudancas na
superfcie do espaco de trabalho, entre outros nao
influenciem significativamente a velocidade alcancada. Essa malha dispensa, por exemplo, o mapeamento entre valores PWM e a velocidade observada para o valor, o que estaria sujeito aos fatores
mencionados. Existe, ainda, uma realimentacao
da posicao para o bloco que representa as estrategias de navegacao, para que ref possa ser calculada naquele ponto do plano xy.
4.2

Implementacao na
Mindstorms R NXT

plataforma

LEGO

Para a criacao de uma arquitetura portavel e flexvel e necessario dividir em blocos as principais
funcoes do sistema_de_controle e navegacao, bem
como estabelecer tarefas bem definidas para cada
um deles. As estrategias de navegacao, juntamente com o modelo_matematico do robo_diferencial fornecem valores de referencia para velocidade
das rodas. E importante tambem controlar a velocidade das rodas e garantir que elas cheguem de
2 Informacoes tecnicas a respeito dos aprimoramentos realizados nessa versao de firmware podem ser encontradas na pagina httpbricxcc.sourceforge.net
firmware.html

1936

XXI Congresso Brasileiro de Automática - CBA2016
UFES, Vitória - ES, 3 a 7 de outubro
Controledavelocidadedasrodas

e

+

PID

PWM

d

MOTOR

e

?

Robô
Diferencial

x
y


( d ,  e )

( dref ,  eref )

( d ,  e )
 f (v,  )



!
g

v

? 

e

Kp

Saturação

 ref

+

Estratégiade
Navegação

x
y

Controledeorientação

Figura 1 Diagrama de blocos do sistema_de_controle e navegacao.

maneira rapida e se mantenham, com o mnimo
de oscilacoes na velocidade de referencia. Controlar a velocidade das rodas implica a necessidade
de se medi-las. Essa medicao tambem e necessaria
para se estimar a posicao do robo, uma vez que,
no presente trabalho, a localizacao e realizada por
meio de odometria.
Para que cada um dos modulos pudesse ser
implementado de forma independente na plataforma LEGO R , foi explorado o recurso denominado task presente na linguagem NXC (Hansen,
2007). Uma task ou tarefa permite que determinados trechos de programa possam ser executados
de maneira concorrente. Essa simultaneidade tem
grande utilidade, uma vez que o robo se move ao
mesmo tempo em que o sensor mede a velocidade,
a velocidade nas rodas e controlada, a posicao estimada e a orientacao de referencia e calculada a
partir das coordenadas e da velocidade do robo.
Esse recurso, se usado da maneira correta, pode
melhorar o desempenho do robo no que diz respeito principalmente ao tempo para se chegar ao
alvo e agilidade para desviar de obstaculos.
5

Estrategias de Planejamento

O planejamento_de_trajetoria tem um importante
papel no desempenho de um robo real. Isso se
torna ainda mais evidente ao se tratar robos com
restricoes nao-holonomicas, como e o caso tratado
neste trabalho. Trajetorias menos suaves podem
levar a um esforco_de_controle maior ou, ainda,
podem nao ser suficientes para evitar colisoes com
os obstaculos. Trajetorias muito conservadoras
podem fazer com que o espaco a ser percorrido
seja muito maior ate o alvo, do que trajetorias
menos conservadoras. Torna-las menos conservadoras pode, em contrapartida, fazer com que os
robos se aproximem demais dos obstaculos, o que
pode levar a colisoes. Um fator importante que
deve ser considerado ao implementar as estrategias de planejamento em robos reais e a saturacao
dos motores a trajetoria planejada deve fornecer
valores de referencia que respeitem as limitacoes
do robo.

ISSN 2525-8311

5.1

Campos Potenciais

Os campos_potenciais se baseiam na existencia de
um potencial atrativo Uatrativo e um repulsivo,
Urepulsivo . O potencial atrativo deve obedecer o
criterio de ser monotonicamente crescente a medida em que a distancia em relacao ao alvo aumenta (Choset et al., 2005). Outras caractersticas desejaveis para a funcao que caracteriza o
potencial atrativo sao a continuidade e diferenciabilidade, alem de um gradiente cujo modulo
decresca a medida em que o alvo se torna mais
proximo. Uma maneira simples de se determinar
uma funcao de potencial para a acao de ir ao alvo
(potencial atrativo) e considerando-se uma funcao
que cresca quadraticamente com a distancia ate o
alvo.
O direcionamento do robo sera dado, entao,
pelo caminho gerado pela direcao oposta ao gradiente da funcao. Um problema que pode decorrer
do emprego dessa tecnica e a existencia de um mnimo local, o que pode levar o robo a nao se mover
ou fazer com que haja um comportamento cclico.
5.2

Funcoes de Navegacao

As Funcoes de Navegacao, diferentemente dos
campos_potenciais, codificam as acoes de ir ate
o alvo e desviar de obstaculos em uma so funcao. Alem de fornecerem uma funcao cujo campo
abrange as acoes esperadas para o robo, as Funcoes de Navegacao tambem solucionam a questao
do mnimo local. Essas funcoes, descritas inicialmente por (Rimon and Koditschek, 1992) possuem somente um mnimo global e sao funcoes
da distancia em relacao ao obstaculos. Podem,
inclusive, ser aplicadas a espacos n dimensionais
(Choset et al., 2005). Essas funcoes podem tambem ser aplicadas a espacos star-shaped e naoeuclidianos. Entretanto, o escopo deste trabalho
se limitou a tratar espacos circulares e espacos bidimensionais. Neste caso, os obstaculos tambem
sao modelados como crculos. As informacoes do
ambiente em que o robo se encontra sao codificadas da seguinte maneira
QOi  qi (q)  0,

(3)

sendo Q a funcao referente ao obstaculo Oi . Assim, i e negativo dentro dos obstaculos, zero nos
limites dos obstaculos e positivo fora deles.
Todos os obstaculos sao includos na composicao da acao repulsiva. Esses obstaculos, bem como
os limites do espaco sao reunidos em um produtorio, como e possvel observar na Equacao 4
(q) 

n
Y

i (q)

(4)

i0

E necessario considerar o raio e centro do espaco
para assegurar que o robo nao se afaste demais,

1937

XXI Congresso Brasileiro de Automática - CBA2016
UFES, Vitória - ES, 3 a 7 de outubro
0
  0
  0
  0
  0
  0
  0
  0
  3
  0
 
1
  1
  1
  0
  0
  0
  3
  2
  3
 
0
  0
 

1.0

0.8

0.6

0.4

 7
 9
 12
 15
 20
 25

0
  1
  1
  1
  1
  0
  0
  0
  3
  0
 

0
  1
  1
  1
  1
  0
  0
  4
  3
  4
 

0
  0
  1
  1
  0
 
0
  0
  0
  0
  0
 
0
  0
  0
  0
  0
 
0
  0
  0
  0
  0
 

0
  0
  1
  1
  0
 
0
  0
  0
  0
  0
 
0
  0
  0
  0
  0
 
0
  0
  0
  0
  0
 

0
  0
  0
  0
  0
 
0
  0
  0
  0
  0
 
0
  0
  0
  1
  0
 
0
  0
  0
  0
  0
 

0
  0
  0
  4
  0
 
0
  0
  0
  0
  0
 
0
  0
  0
  1
  0
 
0
  0
  0
  0
  0
 

y

0.2

0
  0
  0
  0
  0
  0
  0
  4
  3
  4
 
1
  1
  1
  0
  0
  4
  3
  2
  3
 
0
  0
 

i1

0.0

i2

0.2

Figura 3 Duas iteracoes da propagacao dos valores utilizando-se uma vizinhanca de quatro elementos.

0.4

0.6

0.8

1.0

0.5

x

0.0

0.5

1.0

Figura 2 Simulacao numerica da trajetoria do
robo modelado como uniciclo cinematico para diferentes valores de .
ao se desviar de um obstaculo. O centro e o raio
do espaco sao dados por q0 e r0 .
As FNs possuem o parametro , que e responsavel pela suavidade da funcao ao redor dos
obstaculos. Quanto maior o valor do parametro ,
mais abrupta sera a variacao da curva em torno de
um obstaculo e, consequentemente, o robo chegara
mais proximo deles. A influencia do parametro 
na trajetoria pode ser visualizada na Figura 2.
Sendo d(q, qalvo ) a distancia entre a coordenada q e o alvo, a FN e dada por
(q) 

5.3

6

d2 (q, qalvo )
1


(d(q, qalvo ))2 + (q) 

Resultados Experimentais

(5)

Wave-front Planner

O algoritmo Wave-front Planner, inicialmente descrito em (Barraquand et al., 1991), tem por objetivo mapear o ambiente real em que o robo se
encontra em um espaco discretizado. O conceito
central dessa discretizacao sao os chamados grids.
Inicialmente cada uma das celulas desse grid e rotulada em 0, para o caso de nao conterem partes
de obstaculos (ou seja, regioes livres) e 1, quando
sao partes de obstaculos.
Apos o mapeamento entre plano e grid e realizada entao a propagacao para que as demais
celulas sejam classificadas. O valor contido em
cada celula (apos a aplicacao do algoritmo) e considerado o valor do gradiente dentro de uma determinada regiao delimitada pela celula em questao. Considerando-se um grid bidimensional, a
propagacao pode ser feita considerando-se quatro
ou oito celulas vizinhas por meio de uma busca em
largura. Na Figura 3 sao exibidas duas iteracoes
do processo de propagacao considerando-se quatro
elementos adjacentes.
Regra 1 Os vizinhos de uma celula cujo gradiente seja n e que possuam valor 0, ou seja, nao
foram classificadas, receberao o valor n + 1.

ISSN 2525-8311

O algoritmo Wave-Front possui como caracterstica o fato de nao possuir pontos de mnimo
local. Alem disso, segue o menor trajeto entre
a coordenada inicial e o alvo. Entretanto, isso
ocorre sob o custo de o robo se deslocar a uma
distancia consideravelmente curta dos obstaculos
(Choset et al., 2005). Um outro ponto que merece
destaque e a complexidade computacional associada ao tamanho do ambiente em questao. Relacionado a esse aspecto pode-se tambem mencionar
o fato de que o planejamento da trajetoria e realizado por meio de uma busca em todo o espaco,
o que representa um custo consideravel, principalmente se o ambiente e a quantidade de celulas do
espaco discretizado for muito grande.

O planejamento_de_trajetoria foi realizado
considerando-se dois tipos de cenario (1) um paraleleppedo entre o robo e o alvo. A orientacao
inicial do robo corresponde a inclinacao da reta
que contem a posicao inicial do robo e o alvo, ou
seja, 4 . (2) seis obstaculos distribudos pelo cenario e relativamente proximos uns dos outros. Alem
disso, a disposicao dos obstaculos apresenta bifurcacoes, de forma a permitir diferentes trajetos ate
o alvo.
Para comparar os resultados quanto a trajetoria realizada, pode-se recorrer a Figura 4. Nela
podem-se visualizar imagens estroboscopicas geradas a partir da sobreposicao de quadros que representam o estado do robo a cada 2s. Assim, tambem e possvel observar a velocidade desenvolvida
ao longo da trajetoria. Alem disso, a curva que
sobrepoe a imagem representa a posicao estimada
pela odometria. Na Tabela 1 sao apresentados valores numericos referentes ao tempo total (ttotal )
para chegar ate o alvo, a distancia total percorrida (Dtotal ), o erro quadratico medio (M SE())
de orientacao e a distancia entre a posicao final do
robo.
No primeiro cenario, observa-se uma trajetoria mais agressiva para os CPs. Isso ocorre devido
ao fato de que, dentro dos limites do crculo passa
a atuar somente o potencial repulsivo. Alem disso,
nos instantes que antecedem a chegada aos limites do crculo, a velocidade esta proxima ao seu

1938

XXI Congresso Brasileiro de Automática - CBA2016
UFES, Vitória - ES, 3 a 7 de outubro

Campos Potenciais

Wavefront Planner

Funcoes de Navegacao
1.2

0

Alvo

0
1

Alvo

Alvo

-0.2

0.8

-0.6

-0.4

y (m)

y (m)

y (m)

Cenario 1

-0.2

-0.4

0.6

-0.6
0.4

-0.8
-0.8

Início

-1

Início
-1.2

0.2

Início

-1
0

-1.6

-1.4

-1.2

-1

-0.8

-0.6

-0.4

-0.2

0

-1.6

0.2

-1.4

-1.2

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0

0.2

0.4

0.6

x (m)

x (m)

0.8

x (m)

1

1.2

1.4

1.6

1.4

0
0

1.2

-0.2
-0.2

1

Início

Alvo

-0.6

-0.8

Início

Alvo

-1

-1.2

-0.6

-1.4

-1.2

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.8

-0.8

0.6

-1

0.4

-1.2

0.2

-1.4
-1.6

y (m)

y (m)

-0.4

y (m)

Cenario 2

-0.4

-1.6

-1.4

-1.2

x (m)

-1

-0.8

-0.6

x (m)

-0.4

-0.2

0

0.2

0.4

0

Alvo

Início

0.2

0.4

0.6

0.8

1

1.2

1.4

1.6

1.8

2

x (m)

Figura 4 Resultados experimentais das tecnicas de planejamento em diferentes tipos de cenario.
limite maximo (0, 1ms), devido a distancia em
relacao ao alvo. Essas duas condicoes sao responsaveis pelo desvio realizado de maneira acentuada
e agressiva, no que diz respeito a aproximacao em
relacao ao obstaculo. Isso e refletido nos valores
numericos com os CPs, apesar de o tempo necessario para concluir a tarefa ter sido o menor dentre as tres estrategias, o MSE foi o maior, assim
como a distancia total, dado o esforco necessario
para desviar de maneira brusca dos obstaculos.
Para realizar o planejamento via WF
empregou-se uma vizinhanca de oito elementos visando a uma trajetoria mais suave. Alem disso, v
foi fixada em 0,05 ms. Apesar disso, o MSE foi
mais alto, se comparado com as FNs. A trajetoria descrita via FN, por sua vez, foi a que apresentou maior suavidade, o que se reflete em seu
MSE, que foi consideravelmente menor que o das
outras duas estrategias. Alem disso a velocidade
desenvolvida foi mais baixa, o que favoreceu esse
resultado. Apesar de apresentar o melhor resultado no que diz respeito a adequacao do robo naoholonomico a trajetoria planejada e da distancia
total percorrida, o tempo necessario para chegar
ao alvo foi o maior entre as tres estrategias.
Devido a natureza do cenario 2, a velocidade
linear v foi limitada em 0,05 ms para todas as estrategias, para evitar colisoes. Alem disso, para os
CPs, dentro dos limites dos crculos que envolvem
os obstaculos, foi adicionadaajustada uma componente responsavel pela acao de ir ao alvo, de
forma que Uresultante  Urepulsiva + 0, 5Uatrativa .
O MSE que, no cenario 1 era o maior dentre as
tres estrategias, passou a ser o menor.
A FN, em contrapartida, apresentou o pior
resultado para o cenario 2 em todas as metricas,
para   5. Esse resultado esta relacionado ao
parametro empregado para . A Figura 2 representa a modelagem do cenario 2 e foi empregada

ISSN 2525-8311

para realizar o planejamento da trajetoria na plataforma LEGO R . Na figura e possvel observar
a trajetoria gerada para diferentes valores de .
Valores menores de  fazem com que a trajetoria
se afaste consideravelmente dos obstaculos, procurando sempre os limites do cenario. Isso ocorre
porque o termo da equacao (5) responsavel por codificar a acao de ir ao alvo, ou seja d(q, qalvo ))2
se torne menor, se comparado ao produtorio (q),
que codifica a acao de desviar dos obstaculos.
Dessa forma, para o cenario 2 o ideal seria o uso
de valores maiores para .
Nesse ponto foi observada uma limitacao
da implementacao na plataformalinguagem escolhida. Usar valores muito elevados para  exige
maior precisao, uma vez que d(q, qalvo ))2  (q)
(ver equacao (5)). Ao calcular a -esima raiz da
soma desses termos, ha uma limitacao na representacao numerica. Isso porque numeros em ponto
flutuante sao representados, no LEGO NXT, da
forma normalizada segundo o padrao IEEE-754
(Hansen, 2007). Assim, a representacao desses numeros possui uma precisao maxima de 7 casas decimais, o que nao e suficiente para representar os
numeros gerados pelo planejamento da trajetoria.
Dessa forma, foi necessario o uso de   5. Como
e possvel observar na Figura 2, existe um curto
movimento oscilatorio no incio da trajetoria. No
experimento com o LEGO R esse comportamento
foi amplificado, aumentando-se o MSE, o tempo
para realizacao de trajetoria, bem como a distancia total percorrida para tal valor de . Uma outra questao notada foi o erro de odometria, que se
acumulou principalmente em curvas muito acentuadas, provavelmente devido a imprecisao ao medir
a velocidade das rodas. O erro na localizacao fez
com que o robo parasse 10cm distante do alvo.
Em relacao ao tempo e a distancia percorrida,
a tecnica WF foi a que apresentou melhor resul-

1939

XXI Congresso Brasileiro de Automática - CBA2016
UFES, Vitória - ES, 3 a 7 de outubro

tado. Apesar do bom resultado, se comparado as
demais tecnicas a trajetoria planejada exige que
o robo se aproxime demais de alguns obstaculos.
Para contornar essa questao, pode-se estender os
obstaculos ao se gerar o grid.
*
1

2

Metrica
ttotal
Dtotal
M SE()
D(qf , qalvo )
ttotal
Dtotal
M SE()
D(qf , qalvo )

CP
39,3s
2,4m
498,2
0,08m
59,8s
2,4m
218,8
0m

FN
74,4s
2,0m
1,8
0,02m
76,2s
2,9m
467,2
0,2m

WF
46,9s
2,2m
391,5
0,05m
42,3s
2,1m
458,1
0,06m

Tabela 1 Resultados numericos dos experimentos.
7

Conclusoes

Este trabalho tratou da implementacao de um
sistema_de_navegacao e controle em um robo de
tracao diferencial para tres estrategias largamente
utilizadas no planejamento_de_trajetorias na plataforma LEGO R NXT. Alem disso, as estrategias
foram comparadas segundo um conjunto de metricas. As comparacoes mostraram que o ajuste
de parametros, se realizado de maneira incorreta,
pode levar o robo a realizar uma trajetoria pouco
suave, exigindo consideravel esforco_de_controle da
orientacao. Alem disso, em um ambiente com muitos obstaculos, o ajuste das FN pode esbarrar na
questao da precisao, o que se mostrou uma limitacao da plataforma empregada. A implementacao da estrategia WF Planner exige que a velocidade do robo seja adequadamente dimensionada
em funcao do tamanho dos obstaculos, visto que
a trajetoria planejada faz com que o robo se aproxime demais dos obstaculos.
Referencias
Alves, P., Costelha, H. and Neves, C. (2013). Localization and navigation of a mobile robot in
an office-like environment, Autonomous Robot Systems (Robotica), 2013 13th International Conference on, pp. 16.
Arantes, J. M. O., Junior, M. A. A. and Nepomuceno, E. G. (2010). Navegacao e mapeamento para um robo_autonomo Estrategia
baseada em automatos_celulares e no algoritmo_wavefront, XVIII Congresso Brasileiro
de Automatica, pp. 43654372.
Barraquand, J., Langlois, B. and Latombe, J.C. (1991). Numerical potential field techniques for robot path planning, Advanced Robotics, 1991. Robots in Unstructured Environments, 91 ICAR., Fifth International Conference 2 10121017.

ISSN 2525-8311

Benitez, A., Moreno, C. J. and Vallejo, D. (2008).
Localization control for lego robots navigation, Electronics, Communications and Computers, 2008. CONIELECOMP 2008, 18th
International Conference on, pp. 187192.
Choset, H., Lynch, K. M., Hutchinson, S., Kantor, G. A., Burgard, W., Kavraki, L. E. and
Thrun, S. (2005). Principles of Robot Motion Theory, Algorithms, and Implementations, MIT Press, Cambridge, MA.
Colledanchise, M., Dimarogonas, D. V. and
Ogren, P. (2013).
Obstacle avoidance
in formation using navigation-like functions
and constraint based programming, 2013
IEEERSJ International Conference on Intelligent Robots and Systems, pp. 52345239.
Gomez, E. J., Santa, F. M. and Sarmiento, F.
H. M. (2013). A comparative study of geometric path planning methods for a mobile robot Potential field and voronoi diagrams, Engineering Mechatronics and Automation (CIIMA), 2013 II International Congress of, pp. 16.
Hansen, J. (2007). Not eXactly C (NXC) Programmers Guide.
Khatib, O. (1986). Real-time obstacle avoidance
for manipulators and mobile robots, The
International Journal of Robotics Research
5(1) 9098.
Koren, Y. and Borenstein, J. (1991). Potential
field methods and their inherent limitations
for mobile robot navigation, Robotics and
Automation, 1991. Proceedings., 1991 IEEE
International Conference on, pp. 13981404
vol.2.
Park, J. J. and Kuipers, B. (2011). A smooth control law for graceful motion of differential wheeled mobile robots in 2d environment, Robotics and Automation (ICRA),
2011 IEEE International Conference on,
pp. 48964902.
Poomarin, W., Chancharoen, R. and Sangveraphunsiri, V. (2016). Automatic docking
with obstacle avoidance of a differential wheel
mobile robot, International Journal of Mechanical Engineering and Robotics Research,
Vol. 5, pp. 1116.
Rimon, E. and Koditschek, D. (1992). Exact robot navigation using artificial potential fields,
Vol. 8, pp. 501518.
Urakubo, T. (2015). Feedback stabilization of
a nonholonomic system with potential fields application to a two-wheeled mobile
robot among obstacles, Nonlinear Dynamics
81(3) 14751487.

1940